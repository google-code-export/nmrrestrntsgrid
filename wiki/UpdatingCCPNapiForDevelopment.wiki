#summary How to update the CCPN and recoord code.
#labels Featured

= Introduction =

The installation on tang is now maintained by Jurgen, Chris, and Jundong. $WS points to the workspace. The projects have been named ccpnStable and recoordD. D is for development.

= How to =

  * complete refresh of the recoord archive
{{{
    cd $WS
    cvs -z3 -d :pserver:jurgen_bmrb.wisc.edu@cvsebi.ebi.ac.uk:/ebi/cvs/recoord update recoord    
}}}
Then, also localize with a file: /big/docr/workspace/recoordD/python/msd/adatah/localConstants.py containing:
{{{
import os

# Contain dirs: data with dirs: allChemComps, archives, and recoord 
localTopDir = "/Users/jd/ccpn_tmp"
dataDir             = os.path.join(localTopDir,'data')
archivesDataDir     = os.path.join(dataDir,'archives')
archivesCcpnDataDir = os.path.join(dataDir,'archivesCcpn')
pythonCommand       = "python"
numCpu              = 1
allChemCompDataPath = os.path.join(dataDir,'allChemComps')
 
print "Read msd.adatah.localConstants.py version 0.0.2"
}}}


  * complete refresh of the ccpn archive
{{{
    cd $WS/ccpnStable
    \rm -r *
    cvs -z3 -d jurgenfd@ccpn.cvs.sourceforge.net:/cvsroot/ccpn update -r stable
}}}
    
  * regenerate the ccpn data model in/by python:
{{{
    python -u $CCPNMR_TOP_DIR/python/memops/scripts_v2/makePython.py
}}}

    
  * get info from NMR Restraints Grid for running FC on for example 1brv.
{{{
    set x = 1brv
    python -u $WS/recoordD/python/recoord2/msd/getAllInfo.py $x -force 
    This will put the data in: .../data/archives
        bmrb/nmrRestrGrid/1brv and
        pdb
}}}
        
  * run FC:
{{{
    python -u $WS/recoordD/python/recoord2/msd/linkNmrStarData.py $x -noGui -force -raise
}}}
    This will put data in: .../data/recoord/$x
    
  * run FC on the above for export to CYANA.
{{{
    python -u $WS/recoordD/python/recoord2/bmrb/export2Cyana.py $x -noGui -force -raise
}}}
    This will put data in: .../data/recoord/$x
    
  * document:
{{{
python $CCPNMR_TOP_DIR/python/ccpnmr/format/help/createLinkResonancesParametersDoc.py
python $CCPNMR_TOP_DIR/python/ccpnmr/format/help/createFormatConverterParametersDoc.py
}}}